<!DOCTYPE html>
<html>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
    <h1>GCD</h1>
    <p >M : </p><input id="m" type="text"/>
    <p >N: </p><input id="n" type="text"/>
    <p>
    <button onclick="gcd()">
        Calculate
    </button>
    </p>
    <p> Result
    <br/>
    <input id="result" type="text"/>
    </p>
    <table id="resultTable">
        <tr>
            <td>M</td>
            <td>N</td>
            <td>R</td>
            <td>Q</td>
            <td>A1</td>
            <td>A2</td>
            <td>B1</td>
            <td>B2</td>
        </tr>
    </table>
</body>
<script>
    gcd = function()
    {
        var m = $('#m').val();
        var n = $('#n').val();
        var a1=1, a2=0,b1=0,b2=1;
        var stack = [];
        var r,q;
        if(m < n)
        {
            var t = m;
            m = n;
            n = t;
        }
        var object = {
            m:m,
            n:n,
            a1:a1,
            a2:a2,
            b1:b1,
            b2:b2
        };
        stack.push(object);
        do {
            q = parseInt(m / n);console.log(r);
            r = m % n;
            m = n;
            n = r;
            var t = a2;
            a2 = a1 - q*a2;
            a1 = t;
            t=b2;
            b2 = b1 - q*b2;
            b1 = t;
            var object = {
                m:m,
                n:n,
                a1:a1,
                a2:a2,
                b1:b1,
                b2:b2
            };
            stack.push(object);
        } while(r!=0);
        console.log(stack);
        $('#result').val(b1);
        var data;
        for(var i = 0;i<stack.length;i++)
        {
            var name = Object.keys(stack[i]);
            data = "<tr>";
            for(var j = 0;j<stack[i].length;j++)
            {
                data += "<td>"+stack[i][j]+"</td>";
            }
            data +="</tr>";
            console.log(data);
            $('#resultTable').append(data);
        }
        console.log(data);
    }
</script>
</html>